# دليل نشر المشروع على منصة Render

## الملفات المطلوبة للنشر

تم إنشاء الملفات التالية لتسهيل عملية النشر على منصة Render:

### 1. render.yaml
ملف التكوين الرئيسي لمنصة Render يحتوي على:
- نوع الخدمة: Web Service
- بيئة التشغيل: Node.js
- أوامر البناء والتشغيل
- متغيرات البيئة

### 2. Dockerfile
ملف Docker لبناء صورة المشروع يتضمن:
- استخدام Node.js 18 LTS
- تثبيت التبعيات
- بناء المشروع
- تشغيل الخدمة على المنفذ 5000

### 3. .dockerignore
ملف لاستبعاد الملفات غير المطلوبة من صورة Docker

### 4. start.sh
سكريبت تشغيل بديل يمكن استخدامه في حالة الحاجة

## خطوات النشر على Render

### الطريقة الأولى: استخدام render.yaml (مُوصى بها)

1. ارفع المشروع إلى مستودع Git (GitHub, GitLab, أو Bitbucket)
2. اذهب إلى [Render Dashboard](https://dashboard.render.com)
3. انقر على "New +" واختر "Blueprint"
4. اربط مستودع Git الخاص بك
5. سيقوم Render بقراءة ملف render.yaml تلقائياً وإعداد الخدمة

### الطريقة الثانية: إعداد يدوي

1. ارفع المشروع إلى مستودع Git
2. اذهب إلى Render Dashboard
3. انقر على "New +" واختر "Web Service"
4. اربط مستودع Git
5. استخدم الإعدادات التالية:
   - **Build Command**: `npm install && npm run build`
   - **Start Command**: `npm start`
   - **Environment**: Node
   - **Node Version**: 18

## متغيرات البيئة المطلوبة

تأكد من إضافة متغيرات البيئة التالية في إعدادات Render:

```
NODE_ENV=production
PORT=5000
```

إذا كان المشروع يستخدم قاعدة بيانات، أضف:
```
DATABASE_URL=your_database_connection_string
```

## ملاحظات مهمة

1. **المنفذ**: المشروع مُعد للعمل على المنفذ 5000 أو المنفذ المحدد في متغير البيئة PORT
2. **قاعدة البيانات**: إذا كان المشروع يستخدم قاعدة بيانات، تأكد من إعداد قاعدة بيانات على Render أو خدمة خارجية
3. **الملفات الثابتة**: المشروع مُعد لخدمة الملفات الثابتة من مجلد `dist/public` بعد البناء
4. **الخطوط العربية**: تم التأكد من دعم الخطوط العربية في ملف HTML الرئيسي

## استكشاف الأخطاء

إذا واجهت مشاكل في النشر:

1. تحقق من سجلات البناء (Build Logs) في Render
2. تأكد من أن جميع التبعيات موجودة في package.json
3. تحقق من متغيرات البيئة
4. تأكد من أن المشروع يعمل محلياً باستخدام `npm run build && npm start`

## اختبار المشروع محلياً

قبل النشر، يمكنك اختبار المشروع محلياً:

```bash
# تثبيت التبعيات
npm install

# بناء المشروع
npm run build

# تشغيل المشروع في وضع الإنتاج
npm start
```

أو استخدام Docker:

```bash
# بناء صورة Docker
docker build -t alqudimi-tech .

# تشغيل الحاوية
docker run -p 5000:5000 alqudimi-tech
```

## الدعم

إذا كنت بحاجة لمساعدة إضافية، يمكنك مراجعة:
- [وثائق Render](https://render.com/docs)
- [دليل نشر Node.js على Render](https://render.com/docs/deploy-node-express-app)

